<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üèÜ GARGOLAS AWARDS 2025 üèÜ</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
  font-family:'Segoe UI',Tahoma,Verdana,sans-serif;
  max-width:1000px;
  margin:auto;
  padding:20px;
  background:linear-gradient(135deg,#1a1a2e,#16213e,#0f0f23);
  color:#b08d32;
  min-height:100vh;
}

.container{
  background:#2d2d44;
  padding:30px;
  border-radius:20px;
  box-shadow:0 15px 40px rgba(0,0,0,.6);
}

h1{text-align:center;margin-bottom:10px;animation:pulse 2s infinite}
.subtitle{text-align:center;margin-bottom:30px}

@keyframes pulse{
  0%,100%{text-shadow:0 0 5px #b08d32}
  50%{text-shadow:0 0 20px #b08d32}
}

.hidden{display:none}

.registro{
  text-align:center;
  padding:40px;
  border:1px solid #b08d32;
  border-radius:20px;
}

input{
  padding:15px;
  margin:10px;
  width:280px;
  background:#1e1e2e;
  border:2px solid #505077;
  color:#b08d32;
  border-radius:12px;
}

button{
  background:linear-gradient(45deg,#9c7c19,#b08d32);
  color:#fff;
  padding:15px 30px;
  border:none;
  border-radius:12px;
  font-size:16px;
  cursor:pointer;
  transition:.3s;
}

button:hover{transform:translateY(-3px)}
button:disabled{opacity:.4;cursor:not-allowed}

.user-info{text-align:center;margin-bottom:20px}

.terna{
  display:none;
  background:linear-gradient(135deg,#2a2a4e,#3a2a3e);
  padding:30px;
  border-radius:20px;
  animation:fade .5s ease;
}

.terna.activa{display:block}

@keyframes fade{
  from{opacity:0;transform:translateY(20px)}
  to{opacity:1;transform:translateY(0)}
}

.ternas-container {
  margin: 20px 0;
}

.opciones{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
  margin-top:20px;
}

.opcion{
  flex:1 1 180px;
  padding:18px;
  background:#3a3a5a;
  border-radius:15px;
  border:2px solid #505077;
  cursor:pointer;
  text-align:center;
  transition:.3s;
}

.opcion:hover{border-color:#b08d32}

.opcion.votado{
  background:linear-gradient(45deg,#9c7c19,#b08d32);
  color:#fff;
  font-weight:bold;
}

.nav{
  display:flex;
  justify-content:space-between;
  margin-top:25px;
}

.stats{
  margin-top:30px;
  background:#1e1e2e;
  padding:20px;
  border-radius:15px;
  text-align:center;
}
</style>
</head>

<body>
<div class="container">
  <h1>üèÜ GARGOLAS AWARDS 2025 üèÜ</h1>
  <p class="subtitle">Votaci√≥n oficial ‚Äî Gargolas 2025</p>

  <div id="registro" class="registro">
    <h2>Registro</h2>
    <input id="nombre" placeholder="Nombre o nick">
    <input id="email" placeholder="Email">
    <button onclick="registrar()">Comenzar</button>
  </div>

  <div id="votacion" class="hidden">
    <div class="user-info">Hola <strong><span id="usuario"></span></strong></div>

    <!-- TERNAS CONTAINER -->
    <div class="ternas-container" id="ternas-container"></div>

    <!-- NAVEGACI√ìN -->
    <div class="nav">
      <button id="volver" disabled>‚¨Ö Volver</button>
      <button id="siguiente" disabled>Siguiente ‚û°</button>
    </div>

    <div class="stats">
      Total de votos: <span id="total">0</span> / <span id="total-ternas">0</span>
    </div>
  </div>
</div>

<script>
  // Datos de las ternas
  const ternasData = [
    {titulo: "MODS DEL A√ëO üëä", opciones: ["BENJAMIN142420","GERO","BRUNO","LEORAIA","MATEAKD"]},
    {titulo: "MEJOR VIEWER DEL A√ëO üîú", opciones: ["BENJAMIN142420","BRUNO","GERO","ENZO","JOACO"]},
    {titulo: "VIEWER REVELACI√ìN üî•", opciones: ["VILLAFANEXO","ENZO","TAMPA","ENZITOGOD","MACCI"]},
    {titulo: "MOD REVELACI√ìN üí£", opciones: ["BRUNO","ENZO","JOACO","AGRUCK","LEORAIA"]},
    {titulo: "MEJOR JUGADOR DE HAXBALL ‚öΩ", opciones: ["RF","ZEIKO","SANGU","ABION"]},
    {titulo: "MEJOR GK DE HAXBALL üß§", opciones: ["TELLO","NOAH","FRANCHU","GIANKISI","ZEIKO"]},
    {titulo: "PEOR JUGADOR DE HAXBALL üí©", opciones: ["BENJAMIN142420","LAMINE","COMECARNE","PALERMO","MACCI"]},
    {titulo: "TOP WATCHTIME ‚è∞", opciones: ["BENJAMIN142420","GERO","BRUNO","JOAKO","ENZO"]},
    {titulo: "MEJOR STREAMER DE LA COMUNIDAD üü¢", opciones: ["FACU","IRIONDO","TORO FUTBOL","AGRUCK","SANTI","GRIZAS","NATABENITEZZZ"]},
    {titulo: "MEJOR EDITOR üñ•Ô∏è", opciones: ["MATE","CAMINO","FRANPRODS","LEO TALLERES","FONTANA"]},
    {titulo: "TOP DONADORES üí∏", opciones: ["NICOBARI","UBI","SANTY","MAXITO","BRUNO"]},
    {titulo: "MEJOR ARTISTA DEL A√ëO üéôÔ∏è", opciones: ["LP","NAFIELD","TOUZE","DRAKO","MATEAKD"]},
    {titulo: "MEJOR CHATTER DEL A√ëO üí¨", opciones: ["JOACO","GERO","PABLITOCLIPS","ENZO","ERNESTO"]},
    {titulo: "MEJOR CLIP üé•", opciones: ["ND POR AHORA"]},
    {titulo: "MEJOR PJ DEL FC üôé", opciones: ["BRUNO GARGOLAS","BENJAMIN142420","RDC","ENZO (LOS 2)","LAMINE SALADO G√ÅRGOLAS","IRIONDO GARGOLAS"]},
    {titulo: "VIEWER PROMESA DEL A√ëO üíé", opciones: ["PABLITOCLIPS","ENZITOGOD","SANTY","ERNESTO","MACCI"]},
    {titulo: "MEJOR NOMBRE DE LA COMUNIDAD üè∑Ô∏è", opciones: ["SANGUCHITO","LAMINESALADO","FACUREIG","TRABUCODEURUGUAY","AGRUCK"]},
    {titulo: "MEJOR EDIT DEL A√ëO üëè", opciones: ["FRANPRODS","LEOTALLERES","NAXITORP","MATEAKD"]},
    {titulo: "MEJOR SETUP DEL A√ëO üñ•Ô∏è", opciones: ["EN DUDA"]},
    {titulo: "VIEWER M√ÅS FACHERO DEL A√ëO üòé", opciones: ["GERO","MATEAKD"]},
    {titulo: "MEJOR TEMA DEL A√ëO üé∂", opciones: ["JOSEO NOCTURNO","WILY","TONKA","TAN MALA","COLD G√ÅRGOLA"]},
    {titulo: "VIEWER M√ÅS PLAGA üï∑Ô∏è", opciones: ["ENZO","ZEIKO","TINELPRO","NOAH","JOACO"]},
    {titulo: "MEJOR VIP DEL A√ëO üëë", opciones: ["AGUST√çNCARP","NOAH","UBI","MACCI","LAMINESALADO"]},
    {titulo: "VIEWER M√ÅS OG ‚ò†Ô∏è", opciones: ["TOUZE","FRANPRODS","NICOBARI","LUKITAS","EDAN"]},
    {titulo: "MEJOR CLIPERO DEL A√ëO üé¨", opciones: ["CLIPSZETA","MAXITO","BRUNO","MATEAKD","UBI"]},
    {titulo: "MEJOR 9 DE HAXBALL 9Ô∏è‚É£", opciones: ["HAALAND"]},
    {titulo: "MEJOR DEFENSOR DE HAXBALL 2Ô∏è‚É£", opciones: ["ZEIKO","JOAKO"]},
    {titulo: "MEJOR MEDIO DE HAXBALL 8Ô∏è‚É£", opciones: ["LEO","TAMPA"]},
    {titulo: "MEJOR EXTREMO DE HAXBALL 7Ô∏è‚É£", opciones: ["RF","SANGU"]}
  ];

  // Variables globales
  let usuario = null;
  let votos = JSON.parse(localStorage.getItem('votosGargolas') || '{}');
  let index = 0;
  let ternasElements = [];

  // Elementos del DOM
  const registro = document.getElementById('registro');
  const votacion = document.getElementById('votacion');
  const usuarioSpan = document.getElementById('usuario');
  const ternasContainer = document.getElementById('ternas-container');
  const volverBtn = document.getElementById('volver');
  const siguienteBtn = document.getElementById('siguiente');
  const totalSpan = document.getElementById('total');
  const totalTernasSpan = document.getElementById('total-ternas');

  // Inicializar
  function init() {
    generarTernas();
    actualizarNavegacion();
    totalTernasSpan.textContent = ternasData.length;
    
    // Cargar usuario guardado
    const savedUser = localStorage.getItem('usuarioG');
    if (savedUser) {
      usuario = JSON.parse(savedUser);
      usuarioSpan.textContent = usuario.nombre;
      registro.classList.add('hidden');
      votacion.classList.remove('hidden');
      actualizar();
    }
  }

  // Generar elementos de ternas din√°micamente
  function generarTernas() {
    ternasData.forEach((terna, i) => {
      const div = document.createElement('div');
      div.className = 'terna';
      div.dataset.categoria = i;
      div.innerHTML = `
        <h3>${terna.titulo}</h3>
        <div class="opciones">
          ${terna.opciones.map(opcion => 
            `<div class="opcion" data-opcion="${opcion}">${opcion}</div>`
          ).join('')}
        </div>
      `;
      ternasContainer.appendChild(div);
      ternasElements.push(div);
    });
  }

  // Registrar usuario
  function registrar() {
    const nombre = document.getElementById('nombre').value.trim();
    const email = document.getElementById('email').value.trim();
    
    if (!nombre || !email) {
      return alert('Completa todos los datos');
    }
    
    usuario = { nombre, email };
    localStorage.setItem('usuarioG', JSON.stringify(usuario));
    usuarioSpan.textContent = nombre;
    
    registro.classList.add('hidden');
    votacion.classList.remove('hidden');
    actualizar();
  }

  // Actualizar vista actual
  function actualizar() {
    ternasElements.forEach((t, i) => {
      t.classList.toggle('activa', i === index);
    });
    actualizarNavegacion();
  }

  // Clave √∫nica para voto actual
  function claveActual() {
    return `${usuario.email}-${index}`;
  }

  // Actualizar botones de navegaci√≥n
  function actualizarNavegacion() {
    const haVotado = !!votos[claveActual()];
    siguienteBtn.disabled = !haVotado || index >= ternasData.length - 1;
    volverBtn.disabled = index === 0;
    
    actualizarTotalVotos();
    
    // Marcar voto anterior si existe
    const votoActual = votos[claveActual()];
    const opciones = ternasElements[index]?.querySelectorAll('.opcion');
    if (opciones) {
      opciones.forEach(op => {
        op.classList.toggle('votado', op.dataset.opcion === votoActual);
      });
    }
  }

  // Actualizar contador de votos
  function actualizarTotalVotos() {
    const votosUsuario = Object.keys(votos).filter(k => k.startsWith(usuario?.email || '')).length;
    totalSpan.textContent = votosUsuario;
  }

  // Event listeners para opciones de voto
  ternasContainer.addEventListener('click', (e) => {
    if (e.target.classList.contains('opcion')) {
      const ternasActual = ternasElements[index];
      const opciones = ternasActual.querySelectorAll('.opcion');
      
      // Remover votos anteriores
      opciones.forEach(op => op.classList.remove('votado'));
      
      // Marcar nuevo voto
      e.target.classList.add('votado');
      
      // Guardar voto
      votos[claveActual()] = e.target.dataset.opcion;
      localStorage.setItem('votosGargolas', JSON.stringify(votos));
      
      actualizarNavegacion();
    }
  });

  // Navegaci√≥n
  siguienteBtn.addEventListener('click', () => {
    if (index < ternasData.length - 1) {
      index++;
      actualizar();
    }
  });

  volverBtn.addEventListener('click', () => {
    if (index > 0) {
      index--;
      actualizar();
    }
  });

  // Inicializar app
  init();
</script>
</body>
</html>
